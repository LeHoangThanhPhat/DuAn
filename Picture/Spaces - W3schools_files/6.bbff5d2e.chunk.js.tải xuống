(this["webpackJsonphosting-ui"]=this["webpackJsonphosting-ui"]||[]).push([[6],{337:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(82),s=a(28),n=a(57),c=a(25),o=a(50),d=a(3);function i(e,t){return function(a,i){var u=i(),l=u.main.subscription_plan,p=u.main.quota,b=u.main.usage,j=l.cname;if(!0!=={ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED:!0,NR_OF_SPACES_QUOTA_EXCEEDED:!0,SPACE_FILE_SIZE_QUOTA_EXCEEDED:!0,SPACE_NR_OF_FILES_QUOTA_EXCEEDED:!0,TOTAL_STORAGE_AMOUNT_QUOTA_EXCEEDED:!0}[e.code]){var h={id:c.e(),dismissed:!1,type:"error",header:"Quota error",body:e.description};return a(Object(s.a)(h)),h.body}var _={id:c.e(),dismissed:!1,type:"error",header:"",body:""};if("ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED"===e.code)"undefined"!==typeof e.meta&&"undefined"!==typeof e.meta.header_text?_.header=Object(d.jsx)(d.Fragment,{children:e.meta.header_text}):_.header=Object(d.jsx)(d.Fragment,{children:"Out of quota"}),e.description||(e.description="Your account is out of quota, and performing this action is not allowed."),l.can_be_upgraded?_.body=Object(d.jsxs)(d.Fragment,{children:[e.description,"\xa0Do you need more requests, data or storage? Upgrade to the ",Object(d.jsx)("strong",{children:l.upgrade_to_cname})," plan."]}):_.body=Object(d.jsx)(d.Fragment,{children:e.description});else if("NR_OF_SPACES_QUOTA_EXCEEDED"===e.code){var f=1===p.storage.number_of_spaces?"space":"spaces",g=1===b.storage.number_of_spaces?"space":"spaces";_.header=Object(d.jsxs)(d.Fragment,{children:["Your ",l.cname," plan includes ",p.storage.number_of_spaces," ",f]}),l.can_be_upgraded?_.body=Object(d.jsxs)(d.Fragment,{children:["With a ",Object(d.jsx)("strong",{children:l.cname})," plan you get ",p.storage.number_of_spaces," ",f,". By upgrading your plan you get more spaces included."]}):_.body=Object(d.jsxs)(d.Fragment,{children:["With a ",Object(d.jsx)("strong",{children:l.cname})," plan you get ",p.storage.number_of_spaces," ",f," included, and you already have ",b.storage.number_of_spaces," ",g,". Delete one of your existing spaces, if you want to create one more."]})}else if("SPACE_FILE_SIZE_QUOTA_EXCEEDED"===e.code){var O=n.b(p.storage.max_file_size);_.header=Object(d.jsxs)(d.Fragment,{children:["File is larger than ",O]}),l.can_be_upgraded?_.body=Object(d.jsxs)(d.Fragment,{children:["The file ",Object(d.jsx)("strong",{children:Object(o.o)(t.base_name)})," is too large. With the ",Object(d.jsx)("strong",{children:j})," plan you can upload files that are up to ",O,". Do you want to upload larger files? ",Object(d.jsx)("strong",{children:"Upgrade your plan."})]}):_.body=Object(d.jsxs)(d.Fragment,{children:["The file ",Object(d.jsx)("strong",{children:Object(o.o)(t.base_name)})," is too large. You can upload files that are up to ",O,"."]})}else if("SPACE_NR_OF_FILES_QUOTA_EXCEEDED"===e.code)_.header=Object(d.jsx)(d.Fragment,{children:"Maximum number of files and folders reached"}),l.can_be_upgraded?_.body=Object(d.jsxs)(d.Fragment,{children:["You have reached the limit of ",Object(d.jsxs)("strong",{children:[p.storage.number_of_files_per_space," files and folders"]})," on the ",Object(d.jsx)("strong",{children:j})," plan. Make room for more files and folders, by deleting some of them - and try to upload or create again. Do you want to upload or create more files and folders? ",Object(d.jsx)("strong",{children:"Upgrade your plan."})]}):_.body=Object(d.jsxs)(d.Fragment,{children:["You have reached the limit of ",Object(d.jsxs)("strong",{children:[p.storage.number_of_files_per_space," files and folders"]}),". Make room for more files and folders, by deleting some of them - and try to upload or create again."]});else if("TOTAL_STORAGE_AMOUNT_QUOTA_EXCEEDED"===e.code){var m=n.b(p.storage.amount);_.header=Object(d.jsx)(d.Fragment,{children:"File not saved"}),l.can_be_upgraded?_.body=Object(d.jsxs)(d.Fragment,{children:["You have reached the ",Object(d.jsx)("strong",{children:m})," storage limit on the ",Object(d.jsx)("strong",{children:j})," plan, so your changes did not get saved. To add more storage you can either upgrade your plan - or delete some files to free up storage."]}):_.body=Object(d.jsxs)(d.Fragment,{children:["You have reached the ",Object(d.jsx)("strong",{children:m})," storage limit on the ",Object(d.jsx)("strong",{children:j})," plan, so your changes did not get saved. Delete some files to free up storage."]})}return l.can_be_upgraded?(_.learnMoreButtonText="Learn more",_.upgradeButtonText="Upgrade"):_.dismissButtonText="Got it",a(Object(r.a)(_)),_.body}}},345:function(e,t,a){"use strict";var r=a(8),s=a(10),n=a(16),c=a.n(n),o=a(1),d=a.n(o),i=a(23),u=["bsPrefix","className","as"],l=["xl","lg","md","sm","xs"],p=d.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,o=e.as,p=void 0===o?"div":o,b=Object(s.a)(e,u),j=Object(i.a)(a,"col"),h=[],_=[];return l.forEach((function(e){var t,a,r,s=b[e];if(delete b[e],"object"===typeof s&&null!=s){var n=s.span;t=void 0===n||n,a=s.offset,r=s.order}else t=s;var c="xs"!==e?"-"+e:"";t&&h.push(!0===t?""+j+c:""+j+c+"-"+t),null!=r&&_.push("order"+c+"-"+r),null!=a&&_.push("offset"+c+"-"+a)})),h.length||h.push(j),d.a.createElement(p,Object(r.a)({},b,{ref:t,className:c.a.apply(void 0,[n].concat(h,_))}))}));p.displayName="Col",t.a=p},350:function(e,t,a){"use strict";var r=a(8),s=a(10),n=a(16),c=a.n(n),o=a(1),d=a.n(o),i=a(23),u=["bsPrefix","className","noGutters","as"],l=["xl","lg","md","sm","xs"],p=d.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,o=e.noGutters,p=e.as,b=void 0===p?"div":p,j=Object(s.a)(e,u),h=Object(i.a)(a,"row"),_=h+"-cols",f=[];return l.forEach((function(e){var t,a=j[e];delete j[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&f.push(""+_+r+"-"+t)})),d.a.createElement(b,Object(r.a)({ref:t},j,{className:c.a.apply(void 0,[n,h,o&&"no-gutters"].concat(f))}))}));p.displayName="Row",p.defaultProps={noGutters:!1},t.a=p},359:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=function(e,t){return!!e.filter((function(e){return e.id===t})).length}},779:function(e,t,a){},828:function(e,t,a){"use strict";a.r(t);var r=a(13),s=a(20),n=a(24),c=a(1),o=a(350),d=a(345),i=a(329),u=(a(779),a(126)),l=a(19),p=a(28),b=a(46),j=a(128),h=a(25),_=a(18),f=a(6),g=a(337),O=a(359),m=a(3);t.default=function(){var e=Object(l.c)(),t=Object(_.g)(),a=Object(c.useState)(!0),x=Object(n.a)(a,2),E=x[0],y=x[1],v=Object(c.useState)(void 0),D=Object(n.a)(v,2),A=D[0],F=D[1],S=Object(l.d)((function(e){return e.main})),T=Object(l.d)((function(e){return e.main.user})),N=Object(l.d)((function(e){return e.createSpace})),C=new URLSearchParams(Object(_.h)().search).get("is_resetting_space");return f.n.logDebug("CreateSpaceFinalize -> newSpaceParams:",N),Object(c.useEffect)((function(){function a(){return(a=Object(s.a)(Object(r.a)().mark((function a(){var s,n;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(f.l)({url:"/spaceregistration",method:"POST",data:{action:C?"reset":"register",spaceId:C||N.spaceId,template:N.template,_out_of_quota:S.usage_status._out_of_quota}});case 2:if(s=a.sent,f.n.logDebug("CreateSpaceFinalize -> space registration -> reqRes: ",s),"undefined"!==typeof s.data._update_main_state&&e(Object(b.q)(s.data._update_main_state)),"undefined"!==typeof s.data._update_space&&null!==s.data._update_space&&e(C?Object(b.r)(s.data._update_space):Object(b.b)(s.data._update_space)),"0"!==s.error.code){a.next=14;break}e(Object(p.a)({id:Object(h.e)(),dismissed:!1,type:"success",header:C?"Space reset":"Space created",body:C?Object(m.jsxs)("span",{children:["Space named ",Object(m.jsx)("strong",{children:C})," has been reset with template ",Object(m.jsx)("strong",{children:N.template}),"."]}):Object(m.jsxs)("span",{children:["Space named ",Object(m.jsx)("strong",{children:N.spaceId})," is set up and ready for use."]})})),n=C,e(Object(b.s)({onboarding_step:0,is_resetting_space:void 0})),e(Object(j.b)()),t.push(n?"/space/"+n:"/"),a.next=30;break;case 14:if(y(!1),"quota"!==s.error.context){a.next=20;break}e(Object(g.a)(s.error)),t.push("/"),a.next=30;break;case 20:a.t0=s.error.code,a.next="NO_SPACE_ID"===a.t0||"INVALID_NAME"===a.t0?23:"SPACE_NAME_OWNED"===a.t0?25:"NAME_TAKEN"===a.t0?27:29;break;case 23:return F("Space name is invalid."),a.abrupt("break",30);case 25:return F('The name "'.concat(N.spaceId,'" is already owned by you, please try another one')),a.abrupt("break",30);case 27:return F('The name "'.concat(N.spaceId,'" is already taken, please try another one')),a.abrupt("break",30);case 29:F(s.error.description);case 30:case"end":return a.stop()}}),a)})))).apply(this,arguments)}(void 0!==T.is_resetting_space||void 0!==N.spaceId&&0!==N.spaceId.length)&&(!C||O.a(S.spaces,C)?(y(!0),function(){a.apply(this,arguments)}()):t.push("/"))}),[e,t,N]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{className:"create-space-step-one-row",children:Object(m.jsx)(d.a,{children:Object(m.jsx)(u.a,{text:"Back",to:"/"})})}),Object(m.jsxs)(o.a,{className:"create-space-step-one-row",children:[Object(m.jsxs)(d.a,{md:6,children:[Object(m.jsx)("h2",{children:"Almost there"}),Object(m.jsx)("h1",{children:"Great work!"}),Object(m.jsx)("p",{children:"We're busy creating your space and files"})]}),void 0!==A?Object(m.jsx)(d.a,{children:Object(m.jsx)(i.a,{variant:"danger",children:A})}):Object(m.jsx)(m.Fragment,{})]}),Object(m.jsx)(f.e,{show:E,close:function(){},header:"Setting up space",message:""})]})}}}]);
//# sourceMappingURL=6.bbff5d2e.chunk.js.map